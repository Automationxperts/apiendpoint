<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JSON Data Display</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        /* Optional: Custom styles for the table */
        .custom-table {
            border-collapse: collapse;
            width: 100%;
            margin-top: 1rem;
            border-radius: 0.5rem; /* Rounded corners for the table */
            overflow: hidden;      /* Ensure rounded corners apply to thead/tbody */
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06); /* Shadow for the table */
        }
        .custom-table thead th {
            background-color: #f7fafc; /* Light background for header */
            color: #4a5568;         /* Darker text for header */
            padding: 0.75rem 1rem;
            text-align: left;
            font-weight: 600;      /* Bold font for header */
            border-bottom: 2px solid #edf2f7; /* Subtle bottom border */
        }
        .custom-table tbody td {
            padding: 0.75rem 1rem;
            color: #2d3748;         /* Darker text for data */
            border-bottom: 1px solid #edf2f7; /* Very light bottom border */
        }
        .custom-table tbody tr:last-child td {
            border-bottom: none;      /* Remove border from the last row */
        }
        .custom-table tbody tr:hover {
            background-color: #f5f5f5; /* Light hover background */
        }
        .error-message {
            color: #e53e3e; /* Red color for error message */
            margin-top: 1rem;
            padding: 0.75rem 1rem;
            background-color: #fef0f0; /* Light red background */
            border-radius: 0.375rem;
            border: 1px solid #fecaca;
        }
    </style>
</head>
<body class="bg-gray-100 p-6">
    <div class="container max-w-4xl mx-auto bg-white shadow-md rounded-lg p-8">
        <h1 class="text-2xl font-semibold text-gray-800 mb-6 text-center">Data from JSON File</h1>
        <div id="data-container" class="mt-8">
            <p class="text-gray-500 text-center">Loading data...</p>
        </div>
    </div>

    <script>
        const dataContainer = document.getElementById('data-container');

        // GitHub Pages serves JSON files with the correct content type, so we can just fetch it.
        fetch('data.json') // Ensure 'data.json' is in the root of your GitHub Pages repo
            .then(response => {
                if (!response.ok) {
                    throw new Error(`HTTP error! status: ${response.status}`);
                }
                return response.json();
            })
            .then(data => {
                // Check the Accept header (simulated on the client-side)
                const acceptHeader = document.createElement('p');
                acceptHeader.id = 'accept-header';
                const isJsonRequested = false; //  Cannot reliably check the Accept header in a browser.  Always default to HTML

                if (isJsonRequested) {
                    // Display the raw JSON (for demonstration purposes)
                    dataContainer.textContent = JSON.stringify(data, null, 2);
                    dataContainer.classList.add('bg-gray-800', 'text-white', 'p-4', 'rounded-md', 'font-mono', 'text-sm', 'whitespace-pre-wrap');
                } else {
                    // Display the data as an HTML table
                    if (Array.isArray(data) && data.length > 0) {
                        const table = document.createElement('table');
                        table.className = 'custom-table'; // Apply custom table styles

                        // Create the table header
                        const headerRow = document.createElement('tr');
                        for (const key in data[0]) {
                            const th = document.createElement('th');
                            th.textContent = key;
                            headerRow.appendChild(th);
                        }
                        const thead = document.createElement('thead');
                        thead.appendChild(headerRow);
                        table.appendChild(thead);

                        // Create the table body
                        const tbody = document.createElement('tbody');
                        data.forEach(item => {
                            const row = document.createElement('tr');
                            for (const key in item) {
                                const td = document.createElement('td');
                                td.textContent = item[key];
                                row.appendChild(td);
                            }
                            tbody.appendChild(row);
                        });
                        table.appendChild(tbody);

                        dataContainer.innerHTML = ''; // Clear "Loading data..."
                        dataContainer.appendChild(table);
                    } else if (Array.isArray(data) && data.length === 0) {
                        dataContainer.textContent = 'No data found in the JSON file.';
                        dataContainer.classList.add('text-gray-500', 'text-center');
                    }
                    else {
                        dataContainer.textContent = 'Invalid data format. Expected an array of objects.';
                        dataContainer.classList.add('text-red-500', 'text-center');
                    }
                }
            })
            .catch(error => {
                console.error('Error fetching or processing data:', error);
                dataContainer.innerHTML = `<div class="error-message">Error: ${error.message}</div>`;
            });
    </script>
</body>
</html>


